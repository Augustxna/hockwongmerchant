<div [ngClass]="imgview ? 'fadeIn' : 'fadeOut'" [ngStyle]="{'background-color': imgview ? '#111111' : 'transaprent' }"
  style="position: fixed; top: 0px; right: 0px; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
</div>

<div (click)="clearimage(imgselect)" [ngClass]="imgview ? 'zoomIn' : 'zoomOut'" style="position: fixed; top: 0px; right: 0px; 
   width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
  <img src="{{imgselect}}" style="width: 100%;" alt="">
</div>

<ion-content>

  <div style=" padding: 15px; position: sticky; top: 0;  z-index: 100;
  background-color: #f6f6f6; border-bottom: 1px solid #f4f4f4;">
    <div style=" display: flex; align-items: center; justify-content: space-between;">
      <ion-icon (click)="back()" style="font-size: 18px; color:#ef4748;" name="chevron-back-outline"></ion-icon>
      <div style="font-size: 16px; font-weight: 450;">{{'PERSON_NAME'}}</div>
      <ion-icon (click)="menu()" style="font-size: 18px;" name="ellipsis-horizontal"></ion-icon>
    </div>
  </div>

  <div
    style="min-height: calc( 100% - 50px - 54px ); width: 100%; margin-bottom: 54px; background-color: #f6f6f6; padding: 10px; z-index: 100;">

    <div *ngFor="let x of list; let i = index">

      <div *ngIf="showdate(x.date, i)"
        style="padding: 5px 15px 15px 15px; font-weight: 450; color: #666666; font-size: 10px; text-align: center;">
        {{datechecker(x.date)}}
      </div>

      <div *ngIf="x.id == 'you'" style="margin-bottom: 10px; display: flex;">
        <img style="background-color: black; width: 40px; height: 40px; border-radius: 7px; margin-right: 10px" alt="">

        <div *ngIf="x.type == 'text'" style="padding: 10px; background-color: white; font-size: 14px; position: relative; 
          border-radius: 5px; width: max-content; max-width: calc(100% - 50px - 50px);">
          <div class="triangle" style="position: absolute; left: -5px; top: 10px;"></div>
          <div style="font-size: 14px; color: #333333; line-height: 20px;">
            {{x.content}}</div>
        </div>

        <img *ngIf="x.type == 'photo'" (click)="selectimage(x.photo)" src="" style="max-width: calc( (100vw - 70px) / 2); 
        max-height: calc( (100vw - 70px) / 2); border-radius: 5px;" src="{{x.photo}}">

      </div>

      <div *ngIf="x.id == 'me'" style="margin-bottom: 10px; display: flex; justify-content: flex-end;">
        <div *ngIf="x.type == 'text'" style="padding: 10px; background-color: #ffcca2; font-size: 14px; position: relative; 
          border-radius: 5px; width: max-content; max-width: calc(100% - 50px - 50px); color: #333333;">
          <div class="triangle-right" style="position: absolute; right: -5px; top: 10px;"></div>
          <div style="font-size: 14px; color: #333333; line-height: 20px;">
            {{x.content}}</div>
        </div>

        <img *ngIf="x.type == 'photo'" (click)="selectimage(x.photo)" src="" style="max-width: calc( (100vw - 70px) / 2); 
        max-height: calc( (100vw - 70px) / 2); border-radius: 5px;" src="{{x.photo}}">

        <img style="background-color: black; width: 40px; height: 40px; border-radius: 7px; margin-left: 10px" alt="">
      </div>

    </div>

  </div>

  <div id="bottom"></div>

  <div style="width: 100%; background-color: #fafafa; position: fixed; bottom: 0px;
     padding: 10px; display: flex; align-items: flex-end; border-top: 1px solid #f1f1f1">

    <div [ngStyle]="{'width': input ? 'calc( 100% - 56px)' : 'calc( 100% - 39px)'}" style="border-radius: 5px;
   transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); background-color: white; ">
      <ion-textarea #area [(ngModel)]="input"  class="ion-no-padding" rows="1"
        style="font-size: 16px; padding: 7px; max-height: 104.5px;" autoGrow="true"></ion-textarea>
    </div>

    <ion-icon (click)="photo()" [ngStyle]="{'display': !input ? 'initial' : 'none'}" style=" margin-left: 10px; font-size: 30px; display: none; 
    transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    " name="add-circle-outline"></ion-icon>

    <div (click)="send()" [ngStyle]="{'display': input ? 'initial' : 'none'}" style="
  margin-bottom: 2px; margin-left: 10px; padding: 7px; border-radius: 5px;  transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    background-color: #f79a64; color: white; font-size: 13px; font-weight: 450; letter-spacing: 0.8px;">
      Send</div>
  </div>

</ion-content>